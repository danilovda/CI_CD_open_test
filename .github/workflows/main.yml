name: CI_CD

on:
  push:
    branches: [ main ]  

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Check out code
      uses: actions/checkout@v2
    
    - name: List current folder
      run : ls -la
      
    - name: FTP Deploy
      uses: SamKirkland/FTP-Deploy-Action@4.0.0
      with:        
       ftp-server: ${{ secrets.FTP_SERVER_1 }}       
       ftp-username: ${{ secrets.FTP_USERNAME }}
       ftp-password: ${{ secrets.FTP_PASSWORD }}
       ARGS: --delete
       exclude: .git*
          - **.git*
          - .git*/**
          -  **/.git*/**
          - .github
          - .git-ftp.log
       dangerous-clean-slate: true
